(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{23:function(e,n,t){},43:function(e,n,t){"use strict";t.r(n);var c=t(1),a=t.n(c),r=t(17),u=t.n(r),o=(t(23),t(18)),i=t(8),s=t(3),l=t(0),d=function(e){return Object(l.jsx)(l.Fragment,{children:e.contacts.map((function(n){return Object(l.jsxs)("p",{children:[n.name," ",n.number," ",Object(l.jsx)("button",{onClick:function(){return e.handleDelete(n)},children:"delete"})]},n.name)}))})},h=function(e){var n=e.handleNameSubmit,t=e.newName,c=e.handleNameChange,a=e.newNumber,r=e.handleNumberChange;return Object(l.jsxs)("form",{onSubmit:n,children:[Object(l.jsxs)("div",{children:["name: ",Object(l.jsx)("input",{value:t,onChange:c})]}),Object(l.jsxs)("div",{children:["number: ",Object(l.jsx)("input",{value:a,onChange:r})]}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{type:"submit",children:"add"})})]})},j=function(e){var n=e.filterValue,t=e.handleFilterChange;return Object(l.jsx)("input",{value:n,onChange:t})},b=function(e){var n=e.message,t=e.type;if(null===n)return null;if("error"!==t&&"success"!==t)throw Error("unsupported notification type");return Object(l.jsx)("div",{className:t,children:n})},f=t(5),m=t.n(f),O="/api/persons",p=function(){return m.a.get(O).then((function(e){return e.data}))},x=function(e){return m.a.post(O,e).then((function(e){return e.data})).catch((function(e){throw e}))},g=function(e){return m.a.delete("".concat(O,"/").concat(e)).then((function(e){return e.data}))},v=function(e){return m.a.put("".concat(O,"/").concat(e.id),e).then((function(e){return e.data}))},w=function(){var e=Object(c.useState)([]),n=Object(s.a)(e,2),t=n[0],a=n[1],r=Object(c.useState)(""),u=Object(s.a)(r,2),f=u[0],m=u[1],O=Object(c.useState)(""),w=Object(s.a)(O,2),C=w[0],N=w[1],S=Object(c.useState)(""),y=Object(s.a)(S,2),k=y[0],T=y[1],D=Object(c.useState)(null),E=Object(s.a)(D,2),F=E[0],J=E[1],L=Object(c.useState)(null),V=Object(s.a)(L,2),B=V[0],I=V[1];Object(c.useEffect)((function(){p().then((function(e){a(e)}))}),[]);var M=k.length>0?t.filter((function(e){return e.name.toLowerCase().indexOf(k.toLowerCase())>-1})):t;return Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"Phonebook"}),Object(l.jsx)(j,{filterValue:k,handleFilterChange:function(e){T(e.target.value)}}),Object(l.jsx)("h3",{children:"add a new"}),Object(l.jsx)(b,{message:F,type:"success"}),Object(l.jsx)(b,{message:B,type:"error"}),Object(l.jsx)(h,{handleNameSubmit:function(e){e.preventDefault();var n=t.find((function(e){return e.name===f}));if(n){if(window.confirm("".concat(n.name," is already added to the phonebook, replace the old number with a new one?"))){var c=Object(i.a)(Object(i.a)({},n),{},{number:C});v(c).then((function(e){a(t.map((function(n){return n.id===c.id?e:n}))),J("Updated ".concat(e.name)),setTimeout((function(){J(null)}),5e3)})).catch((function(e){I("Experienced an error trying to update ".concat(n.name)),setTimeout((function(){I(null)}),5e3)}))}}else x({name:f,number:C}).then((function(e){a([e].concat(Object(o.a)(t))),J("Created ".concat(f)),setTimeout((function(){J(null)}),5e3)})).catch((function(e){I(e.response.data),setTimeout((function(){I(null)}),5e3)}));m(""),N("")},newName:f,handleNameChange:function(e){m(e.target.value)},newNumber:C,handleNumberChange:function(e){N(e.target.value)}}),Object(l.jsx)("h3",{children:"Numbers"}),Object(l.jsx)(d,{contacts:M,handleDelete:function(e){window.confirm("Delete ".concat(e.name,"?"))&&g(e.id).then((function(n){a(t.filter((function(n){return n.id!==e.id}))),J("Deleted ".concat(f)),setTimeout((function(){J(null)}),5e3)})).catch((function(e){I("Exerpeinced an error trying to delete the user"),setTimeout((function(){I(null)}),5e3)}))}})]})};u.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(w,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.862bd966.chunk.js.map